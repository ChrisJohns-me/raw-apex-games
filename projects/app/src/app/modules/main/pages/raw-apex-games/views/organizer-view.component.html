<div *ngIf="isLoadingLobby">
    <h1 class="text-center">Loading Lobby...</h1>
</div>
<div *ngIf="!isLoadingLobby">
    <h2>{{ myExistingLobby ? "Updating" : "Creating" }} {{ myName ? myName + "'s" : "Your" }} Lobby</h2>
    <div class="row">
        <div class="col">
            <app-playlist-selector
                [playlistItems]="playlistItems"
                [selectedPlaylist]="selectedPlaylist"
                (selectedPlaylistChange)="selectedPlaylist = $event"
            ></app-playlist-selector>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <app-lobby-code [(lobbyCode)]="lobbyCode" [isEditable]="true"></app-lobby-code>
        </div>
    </div>

    <div class="row mt-3">
        <div class="col">
            <h5>Start Date</h5>
            <input type="datetime-local" class="form-control" [(ngModel)]="startDate" />
        </div>
        <div class="col">
            <h5>End Date</h5>
            <input type="datetime-local" class="form-control" [(ngModel)]="endDate" />
        </div>
    </div>

    <div class="row">
        <div class="col-auto">
            <button type="button" class="mt-4 btn btn-success" (click)="onCreateLobbyClick()" [disabled]="!canCreate || isCreating">
                {{ isCreating ? "Creating Lobby..." : "Create Lobby" }}
            </button>
        </div>
        <div class="col-auto">
            <button type="button" class="mt-4 btn btn-info" [disabled]="!canUpdate || isUpdating">Update Lobby</button>
        </div>
        <div class="col-auto">
            <button type="button" class="mt-4 btn btn-danger" [disabled]="!canDelete || isDeleting">End Lobby</button>
        </div>
    </div>
</div>
