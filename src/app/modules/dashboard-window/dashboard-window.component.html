<app-ui-container
    [primaryTitle]="primaryTitle"
    [isDesktopWindow]="true"
    [isTitlebarDraggable]="true"
    [isContentDraggable]="false"
>
    <div class="control-bar">
        <button (click)="onOpenUltimateCountdownClick()">Open Ult Countdown</button>
        <button (click)="onOpenMatchTimerClick()">Open Match Timer</button>
        <button (click)="onForceRefreshClick()">Force Refresh</button>
        <button (click)="uiShowInfoLog = !uiShowInfoLog">{{ uiShowInfoLog ? "Hide" : "Show" }} Info Log</button>
        <button (click)="uiShowEventLog = !uiShowEventLog">{{ uiShowEventLog ? "Hide" : "Show" }} Event Log</button>
        <button (click)="isTrackingEnabled = !isTrackingEnabled">
            {{ isTrackingEnabled ? "üü¢ Tracking Is On" : "‚ùå Tracking Is Off" }}
        </button>

        <span class="control-bar-right pulse" *ngIf="hasRecentlyTrackedMatchSummary">‚úîÔ∏è Last Match Tracked</span>
    </div>

    <section class="pane-container">
        <div class="pane" style="min-width: 150px; max-width: 300px; flex: 1 1 50%">
            <h1>Inferences</h1>
            <div>
                <p class="inference-item">GamePhase: {{ game.phase$ | async }}</p>
                <p class="inference-item">IsInFocus: {{ gameProcess.isInFocus$ | async }}</p>
                <p class="inference-item">IsRunning: {{ gameProcess.isRunning$ | async }}</p>
                <p class="inference-item">GameMode: {{ (match.gameMode$ | async)?.friendlyName }}</p>
                <p class="inference-item">Map: {{ (matchMap.map$ | async)?.friendlyName }}</p>
                <p class="inference-item">State: {{ match.state$ | async }}</p>
                <p class="inference-item">MatchDuration: {{ (match.time$ | async)?.durationMs | date: "mm:ss" }}</p>
                <p class="inference-item">Teammates: {{ (matchRoster.teammates$ | async)?.players }}</p>
                <p class="inference-item">PlayerName: {{ player.playerName$ | async }}</p>
                <p class="inference-item">PlayerStatus: {{ player.status$ | async }}</p>
                <p class="inference-item">
                    Damage: {{ (playerActivity.damageRoster$ | async)?.activePlayerDamageInflicted }}
                </p>
                <p class="inference-item">
                    Eliminations: {{ (playerActivity.damageRoster$ | async)?.activePlayerEliminationsInflicted }}
                </p>
                <p class="inference-item">
                    Headshots: {{ (playerActivity.damageRoster$ | async)?.activePlayerHeadshotsInflicted }}
                </p>
                <p class="inference-item">
                    Knockdowns: {{ (playerActivity.damageRoster$ | async)?.activePlayerKnockdownsInflicted }}
                </p>
                <p class="inference-item">Placement: {{ playerActivity.placement$ | async }}</p>
                <p class="inference-item">Victory: {{ playerActivity.victory$ | async }}</p>
                <p class="inference-item">InUse: {{ (playerInventory.inUse$ | async)?.friendlyName }}</p>
                <p class="inference-item">
                    Inventory:
                    <span *ngFor="let slotItem; in: playerInventory.inventorySlots$ | async">{{ slotItem }}</span>
                </p>
                <p class="inference-item">
                    Weapons:
                    <span *ngFor="let weaponItem; in: playerInventory.weaponSlots$ | async">{{ weaponItem }}</span>
                </p>
                <p class="inference-item">Legend: {{ playerLegend.legend$ | async }}</p>
                <p class="inference-item">
                    UltimateCooldownPercent: {{ playerLegend.ultimateCooldown$ | async | percent: "0.0-0" }}
                </p>
                <p class="inference-item">
                    Coordinates:
                    <span *ngFor="let coordinate; in: playerLocation.coordinates$ | async">{{ coordinate }}, </span>
                </p>
                <p class="inference-item">
                    LandingCoordinates:
                    <span *ngFor="let coordinate; in: playerLocation.landingCoordinates$ | async"
                        >{{ coordinate }},
                    </span>
                </p>
                <p class="inference-item">LocationPhase: {{ playerLocation.locationPhase$ | async }}</p>
                <p class="inference-item">
                    StartingCoordinates:
                    <span *ngFor="let coordinate; in: playerLocation.startingCoordinates$ | async"
                        >{{ coordinate }},
                    </span>
                </p>
            </div>
        </div>
        <div class="pane" *ngIf="uiShowInfoLog">
            <h1>Info</h1>
            <button (click)="onInjectInfoClick()">Inject From Log</button>
            <button (click)="gameInfoList = ''">Clear</button>
            <label>
                <input type="checkbox" [checked]="autoClearInfoLog" (change)="autoClearInfoLog = !autoClearInfoLog" />
                Auto Clear
            </label>
            <textarea class="log-box" readonly>{{ gameInfoList }}</textarea>
        </div>
        <div class="pane" *ngIf="uiShowEventLog">
            <h1>Event</h1>
            <button (click)="onInjectEventClick()">Inject From Log</button>
            <button (click)="gameEventList = ''">Clear</button>
            <label>
                <input
                    type="checkbox"
                    [checked]="autoClearEventLog"
                    (change)="autoClearEventLog = !autoClearEventLog"
                />
                Auto Clear
            </label>
            <textarea class="log-box" readonly>{{ gameEventList }}</textarea>
        </div>
    </section>
</app-ui-container>
